/* ============================================================================
   FAST ROADMAP - WONDER.SITE AESTHETIC + MOBILE-FIRST
   Glassmorphism, Mesh Gradients, Smooth Animations
   Safari iOS Optimizations & Touch-First Design
   ============================================================================ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   WONDER.SITE AESTHETIC FOUNDATIONS
   ============================================================================ */

:root {
  /* Gradient stops for mesh background */
  --gradient-1: #667eea;
  --gradient-2: #764ba2;
  --gradient-3: #f093fb;
  --gradient-4: #4facfe;
  
  /* Glass colors */
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: rgba(0, 0, 0, 0.1);
}

@layer base {
  /* ========================================================================
     iOS SAFARI FIXES
     ======================================================================== */
  
  html {
    /* Prevent rubber-band scrolling */
    overscroll-behavior-y: none;
    /* Smooth scrolling on iOS */
    -webkit-overflow-scrolling: touch;
    /* Fix 100vh on iOS Safari (address bar) */
    height: 100dvh;
  }

  body {
    /* Remove tap highlight */
    -webkit-tap-highlight-color: transparent;
    /* Disable text selection on UI elements */
    -webkit-touch-callout: none;
    /* Enable smooth momentum scrolling */
    -webkit-overflow-scrolling: touch;
    /* Prevent accidental zooming */
    touch-action: manipulation;
    /* Fix iOS Safari height */
    min-height: 100dvh;
    /* Prevent horizontal scroll */
    overflow-x: hidden;
  }

  /* ========================================================================
     TOUCH-OPTIMIZED INTERACTIONS
     ======================================================================== */
  
  button,
  a,
  [role="button"] {
    /* Remove tap delay */
    touch-action: manipulation;
    /* Minimum touch target */
    min-width: 48px;
    min-height: 48px;
    /* Remove tap highlight */
    -webkit-tap-highlight-color: transparent;
  }

  /* Active state for touch feedback (no hover on mobile) */
  button:active,
  a:active,
  [role="button"]:active {
    opacity: 0.7;
    transition: opacity 0.1s ease;
  }

  input,
  textarea,
  select {
    /* Prevent zoom on iOS (16px minimum) */
    font-size: 16px;
    /* Remove iOS styling */
    -webkit-appearance: none;
    appearance: none;
  }

  /* ========================================================================
     SAFE AREA SUPPORT (iPhone Notch / Dynamic Island)
     ======================================================================== */
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* ========================================================================
     SCROLL CONTAINERS
     ======================================================================== */
  
  .scroll-container {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }

  /* Hide scrollbar on mobile */
  .scroll-container::-webkit-scrollbar {
    display: none;
  }

  /* ========================================================================
     PREVENT TEXT SELECTION ON UI ELEMENTS
     ======================================================================== */
  
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }

  /* ========================================================================
     MOBILE-OPTIMIZED TYPOGRAPHY
     ======================================================================== */
  
  h1 { font-size: clamp(1.75rem, 5vw, 2.5rem); }
  h2 { font-size: clamp(1.5rem, 4vw, 2rem); }
  h3 { font-size: clamp(1.25rem, 3.5vw, 1.75rem); }
  p { font-size: clamp(0.875rem, 2.5vw, 1rem); }

  /* ========================================================================
     ACCESSIBILITY - HIGH CONTRAST FOR SUNLIGHT
     ======================================================================== */
  
  @media (prefers-contrast: high) {
    body {
      background-color: #000;
      color: #fff;
    }
  }
}

@layer utilities {
  /* ========================================================================
     MOBILE UTILITY CLASSES
     ======================================================================== */
  
  .touch-target {
    min-width: 48px;
    min-height: 48px;
  }

  .thumb-zone {
    padding-bottom: 5rem;
    margin-bottom: env(safe-area-inset-bottom);
  }

  .full-screen-mobile {
    min-height: 100dvh;
  }

  .ios-safe-top {
    padding-top: max(env(safe-area-inset-top), 1rem);
  }

  .ios-safe-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 1rem);
  }
}

  /* Mesh gradient background */
  .mesh-gradient-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    opacity: 0.95;
  }

  .mesh-gradient-bg::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at 20% 50%, rgba(246, 147, 251, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(79, 172, 254, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(102, 126, 234, 0.5) 0%, transparent 50%);
    animation: gradient 15s ease infinite;
  }

  /* Glass morphism utilities */
  .glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
  }

  .glass-heavy {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Inner glow effect */
  .inner-glow {
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  }

  /* Shimmer effect for loading states */
  .shimmer {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.2) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }
}

@layer components {
  /* Wonder.site inspired card */
  .wonder-card {
    @apply glass rounded-glass-xl p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl;
  }

  /* Glass button */
  .glass-button {
    @apply glass rounded-xl px-6 py-3 font-medium transition-all duration-200 active:scale-95 hover:bg-white/10;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent;
  }
}
