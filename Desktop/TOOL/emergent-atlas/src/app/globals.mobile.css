/* ============================================================================
   FAST ROADMAP - MOBILE-FIRST GLOBAL STYLES
   Safari iOS Optimizations & Touch-First Design
   ============================================================================ */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ========================================================================
     iOS SAFARI FIXES
     ======================================================================== */
  
  html {
    /* Prevent rubber-band scrolling */
    overscroll-behavior-y: none;
    /* Smooth scrolling on iOS */
    -webkit-overflow-scrolling: touch;
    /* Fix 100vh on iOS Safari (address bar) */
    height: 100dvh;
  }

  body {
    /* Remove tap highlight */
    -webkit-tap-highlight-color: transparent;
    /* Disable text selection on UI elements */
    -webkit-touch-callout: none;
    /* Enable smooth momentum scrolling */
    -webkit-overflow-scrolling: touch;
    /* Prevent accidental zooming */
    touch-action: manipulation;
    /* Fix iOS Safari height */
    min-height: 100dvh;
    /* Prevent horizontal scroll */
    overflow-x: hidden;
  }

  /* ========================================================================
     TOUCH-OPTIMIZED INTERACTIONS
     ======================================================================== */
  
  button,
  a,
  [role="button"] {
    /* Remove tap delay */
    touch-action: manipulation;
    /* Minimum touch target */
    min-width: 48px;
    min-height: 48px;
    /* Remove tap highlight */
    -webkit-tap-highlight-color: transparent;
  }

  /* Active state for touch feedback (no hover on mobile) */
  button:active,
  a:active,
  [role="button"]:active {
    opacity: 0.7;
    transition: opacity 0.1s ease;
  }

  input,
  textarea,
  select {
    /* Prevent zoom on iOS (16px minimum) */
    font-size: 16px;
    /* Remove iOS styling */
    -webkit-appearance: none;
    appearance: none;
  }

  /* ========================================================================
     SAFE AREA SUPPORT (iPhone Notch / Dynamic Island)
     ======================================================================== */
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* ========================================================================
     SCROLL CONTAINERS
     ======================================================================== */
  
  .scroll-container {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }

  /* Hide scrollbar on mobile */
  .scroll-container::-webkit-scrollbar {
    display: none;
  }

  /* ========================================================================
     PREVENT TEXT SELECTION ON UI ELEMENTS
     ======================================================================== */
  
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }

  /* ========================================================================
     MOBILE-OPTIMIZED TYPOGRAPHY
     ======================================================================== */
  
  h1 { font-size: clamp(1.75rem, 5vw, 2.5rem); }
  h2 { font-size: clamp(1.5rem, 4vw, 2rem); }
  h3 { font-size: clamp(1.25rem, 3.5vw, 1.75rem); }
  p { font-size: clamp(0.875rem, 2.5vw, 1rem); }

  /* ========================================================================
     ACCESSIBILITY - HIGH CONTRAST FOR SUNLIGHT
     ======================================================================== */
  
  @media (prefers-contrast: high) {
    body {
      background-color: #000;
      color: #fff;
    }
  }
}

@layer utilities {
  /* ========================================================================
     MOBILE UTILITY CLASSES
     ======================================================================== */
  
  .touch-target {
    @apply min-w-touch min-h-touch;
  }

  .thumb-zone {
    @apply pb-20 mb-safe-bottom;
  }

  .full-screen-mobile {
    @apply min-h-screen-dvh;
  }

  .ios-safe-top {
    padding-top: max(env(safe-area-inset-top), 1rem);
  }

  .ios-safe-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 1rem);
  }
}
